<div class="upgrade-to-growth">
    <app-dashboard-nav></app-dashboard-nav>
    <div class="center-container">
        <div class="upgrade-to-growth-container">
            <h1>Join to Growth Plan</h1>
            <p>Features in the Growth Plan</p>
            <div class="features">
                <p>1,000 Submissions/Month</p>
                <p>Access to PoW captcha API</p>
                <p>Auto-Response Emails (Formbee email domain only)</p>
                <p>All Plugins</p>
                <p>Unlimited plugins active at a time</p>
            </div>
        </div>
        <div *ngIf="!loading" class="upgrade-to-growth-container pay-pay-div">
            <div class="payment-div">
                <p class="start-plan">Start the Growth Plan</p>
                <div *ngIf="last4Digits"  class="method-div">
                    <h2 *ngIf="last4Digits">Payment Method</h2>
                    <div class="row">
                        <div *ngIf="last4Digits"><p class="last-4">Your card ending in {{last4Digits}}</p></div>
                        <button *ngIf="last4Digits" class="edit-button" (click)="goToBilling()">Edit</button>
                    </div>
                </div>
                <div class="method-div">
                    <div *ngIf="subscriptionLoading" class="loading-spinner"></div>
                    <div *ngIf="!last4Digits" id="card-element"></div>
                </div>
                <p *ngIf="errorMessage" class="error-message">{{errorMessage}}</p>
            </div>
            <div class="button-div">
                <button (click)="handleFormSubmit()">Subscribe to Growth Plan</button>
            </div>
            <p class="p-sub">a charge of $5/month will be applied, starting whenever you subscribe</p>

        </div>
        <div *ngIf="loading" class="loading-spinner"></div>
    </div>
</div>
<script src="https://js.stripe.com/v3/" ></script>
