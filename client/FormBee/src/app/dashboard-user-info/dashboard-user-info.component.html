<h1 class="name-text">Welcome, {{ name }}!</h1>

<div class="user-info">
  <div class="api-key-handling email">
    <p class="email-text">Recipient Email</p>
    <input type="email" placeholder="Set email" value="{{ email }}" id="email-input">
    <div class="email-btn-container">
      <button class="api-buttons email-btn" (click)="updateEmail()">Update Email</button>
      <p *ngIf="emailValid" class="email-error">Invalid email</p>
    </div>
  </div>
  <div class="Section">
    <div class="usage-info">
    <p>Current API Usage</p>
    <div class="usage-bar">
      <div class="usage-progress" [style.width]="maxSubs > 0 ? currentSubs / maxSubs * 100 + '%' : '0%'"></div>
    </div>
    <p class="usage-text">{{ currentSubs }} / {{ maxSubs }}</p>
  </div>
  </div>
  <div class="Section local-host">
    <div class="usage-info">
    <p>Current Localhost Submissions</p>
    <div class="usage-bar">
      <div class="usage-progress" [style.width]="localHostMaxSubs > 0 ? localHostCurrentSubs / localHostMaxSubs * 100 + '%' : '0%'"></div>
    </div>
    <p class="usage-text">{{ localHostCurrentSubs }} / {{ localHostMaxSubs }}</p>
  </div>
  </div>
  <div class="api-key-handling">
    <p>Current API Key</p>
    <p *ngIf="!apiKey">loading API key...</p>
<div class="api-key-display">
  <div class="obfu">
    <div class="obfuscation"></div>
    <p *ngIf="apiKey">{{ displayApiKey }}</p>
  </div>
  <button class="api-buttons" (click)="copyToClipboard()">Copy API Key</button>
</div>
    <button class="api-buttons generate" (click)="newApiKey()">Generate new key</button>
  </div>

  <div class="Section">
    <input type="radio" name="return-message" value="yes" id="return-message-yes">
    <label for="return-message-yes">Yes</label>
    <input type="radio" name="return-message" value="no" id="return-message-no">
    <label for="return-message-no">No</label>
    <input type="text" placeholder="Enter your return message" id="return-message-input">
    <input type="text" placeholder="Enter your email" id="email-input-return">
    <input type="password" placeholder="Enter your password" id="password-input-return">
    <button class="api-buttons" (click)="saveOptions()">Send Return Email</button>
  </div>
</div>